<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">

<head lang="en">
<meta charset="UTF-8" />
<meta http-equiv="x-ua-compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<!-- JQuery -->
<script type="text/javascript" th:src="@{/jquery/jquery-3.3.1.js}"></script>
<!-- Bootstrap -->
<script type="text/javascript" th:src="@{/bootstrap/js/bootstrap.js}"></script>
<link th:href="@{/bootstrap/css/bootstrap.css}" rel="stylesheet" />
<link th:href="@{/bootstrap/css/bootstrap-theme.css}" rel="stylesheet" />
<script src="https://cdn.bootcss.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://cdn.bootcss.com/respond.js/1.4.2/respond.min.js"></script>
<!-- Myself Javascript & CSS -->
<link rel="stylesheet" th:href="@{/assets/manager.css}" />
<!--  
<script type="text/javascript" th:src="@{/assets/mamager.js}"></script>
-->
<title>管理员信息管理</title>

<script type="text/javascript">
	$(function() {
		// queryAdmin("page");
	});

	// 查询
	function queryAdmin(pageStatus) {

		var adminUserName = $("#adminUserName").val();

		// 当前页数
		var nowPage = $("#nowPage").text();
		var pageNow = nowPage.substring(0, 1);

		// +page || -page || page
		if (null == pageStatus || "page" == pageStatus) {
			pageStatus = "page";
		}

		$.ajax({
			type : "POST",
			url : "/AdminUserController/selectAdminUser",
			data : {
				"adminUserName" : adminUserName,
				"pageNow" : pageNow,
				"pageStatus" : pageStatus
			},
			dataType : "json",
			async : false,
			cache : false,
			success : function(data) {
				if (null == data) {
					alert("null");
				} else {
					alert("not null");
				}
				alert(data);
			}
		});
	}

	function older() {
		queryAdmin("+page");
	};

	function newer() {
		queryAdmin("-page");
	};
</script>

</head>

<body>

	<div class="row">

		<div id="left" class="col-lg-3 col-md-3 col-sm-2">
			<img th:src="@{/images/m_left.png}" />
		</div>

		<!-- left end -->
		<div id="middle" class="col-lg-8 col-md-8 col-sm-8">
			<div class="related container">

				<!-- Title -->
				<div class="row">
					<div class="col-lg-11">
						<h3>管理员信息管理</h3>
					</div>
				</div>

				<!-- 查询 -->
				<!--  
				<form th:action="@{/AdminUserController/selectAdminUser}" class="form-horizontal" method="post">
					<div class="form-group">
						<label for="adminUserName" class="col-sm-2 control-label">管理员名称</label>
						<div class="col-sm-4">
							<input type="text" class="form-control" id="adminUserName" name="adminUserName" placeholder="名称...">
						</div>
						<div class="col-sm-2">
							<button type="submit" class="btn btn-default">查询</button>
							<button type="button" class="btn btn-default" onclick="queryAdmin()">查询</button>
						</div>
						<div class="col-sm-2">
							<button type="button" class="btn btn-default" onclick="addAdmin()">新增</button>
						</div>
					</div>
				</form>
				-->
				<!-- 查询 end -->

				<!-- 列表 -->
				<table class="table table-responsive">
					<thead>
						<tr>
							<th>ID</th>
							<th>名称</th>
							<th>姓名</th>
							<th>昵称</th>
							<th>手机</th>
							<th>座机</th>
							<th>邮箱</th>
							<th>创建时间</th>
							<th>上次登录时间</th>
							<th>上次登录IP</th>
							<th>操作</th>
						</tr>
					</thead>
					<tbody>
						<tr th:each="data:${list}">
							<td th:text="${data.adminUserId}"></td>
							<td th:text="${data.adminUserName}"></td>
							<td th:text="${data.name}"></td>
							<td th:text="${data.nickName}"></td>
							<td th:text="${data.mobilePhone}"></td>
							<td th:text="${data.telephone}"></td>
							<td th:text="${data.email}"></td>
							<td th:text="${data.createTime}"></td>
							<td th:text="${data.lastLoginTime}"></td>
							<td th:text="${data.lastLoginIp}"></td>
							<td><a href="">详情</a> | <a href="">修改</a> | <a href="">删除</a></td>
						</tr>
					</tbody>

				</table>

				<!-- 分页 -->
				<nav aria-label="...">
					<ul class="pager">
						<!--  
						<li><a href="javascript:older();">上一页</a></li>
						<li><span id="nowPage">1/5</span><span id="pageStatus" style="display: none">page</span></li>
						<li><a href="javascript:newer();">下一页 </a></li>
						-->
						
						<li>
							<a th:if="${not isFirstPage}" th:href="@{${'/AdminUserController/selectAdminUser'}(pageNum=${pageNum-1},pageSize=${pageSize})}">上一页</a> 
							<a th:if="${isFirstPagee}" href="javascript:void(0);">上一页</a>
						</li>
						
						<li th:each="pageNo: ${#numbers.sequence(1, totalPages)}">
							<a th:if="${pageNum eq pageNo}" href="javascript:void(0);">
								<span th:text="${pageNum}"></span>
							</a>

							<a th:if="${not (pageNum eq pageNo)}" th:href="@{${'/AdminUserController/selectAdminUser'}(pageNum=${pageNo},size=${pageSize})}">
								<span th:text="${pageNo}"></span>
							</a>
						</li>
						
						<li>
							<a th:if="${not isLastPage}" th:href="@{${'/AdminUserController/selectAdminUser'}(pageNum=${pageNum+1},size=${pageSize})}">下一页</a>
							<a th:if="${isLastPage}" href="javascript:void(0);">下一页</a>
						</li>

					</ul>
				</nav>

			</div>
			<!-- related end -->
		</div>
		<!-- middle end -->

		<!--  
		<div id="right" class="col-lg-1 col-md-1 col-sm-1">
			<img th:src="@{/images/m_left.png}" />
		</div>
		-->
		<!-- right end -->
	</div>
	<!-- row end -->

</body>
</html>